
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Web Based Mash Profiles</title>
    
    <meta name="author" content="Doug Edey">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/css/1.4.0/bootstrap.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="topbar">
      <div class="fill">
        <div class="container">
          <a class="brand" href="/">Dougs Doings</a>
          <ul class="nav">
            
            
            


  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>Web Based Mash Profiles <small>Updated Mash Profiles in the WebUI</small></h1>
</div>

<div class="row">
  <div class="span14">
    <p>So I have spent some time improving <strong>Mash Profiles</strong> in <a href="http://dougedey.github.io/SB_Elsinore_Server/">StrangeBrew Elsinore</a>, you can now do edits, re-orders, deletes, all from the Web interface. And since <a href="http://github.com/dougedey/StrangeBrewQT">StrangeBrew QT</a> is dead for me now (too much hassle to support multiple platforms), I’ve been integrating support with <a href="http://github.com/dougedey/StrangeBrew">StrangeBrew Java</a></p>

<h1 id="this-is-still-a-test-feature">This is STILL A TEST Feature</h1>

<p>If you see an issue, please raise a bug with as much information as possible. One line “This doesn’t work” won’t help me to fix it. Check the logs, this feature has lots of WARNING output (rather than info) until it’s been tested well enough to be part of the main branch.</p>

<h3 id="what-is-a-mash-profile">What is a Mash Profile?</h3>

<p>I know I’m probably not using the right phrase, but I figured it was catchy enough to refer to, and it gets the intent of the feature across.</p>

<p>A Mash Profile is a series of Mash Steps, many Mash Steps equal one Mash Profile.</p>

<p>In Elsinore, you can have a mash profile for each PID you have setup.</p>

<h3 id="ok-what-does-a-mash-profile-allow-me-to-do">OK, what does a Mash Profile allow me to do?</h3>

<p>The profile allows you to setup mash steps in advance, with target start temperatures, duration, and names, Elsinore then has a background thread for each Mash Profile that has been setup.</p>

<p>What Elsinore does is:</p>

<ol>
  <li>Checks to see if there’s an active mash step, if there’s not it doesn’t do anything, simple</li>
  <li>Sets the target PID Temperature to that of the mash profile</li>
  <li>Checks to see if the current temperature on the profiles PID to see if it’s in range of the target profile (currently this is hard set to +/-2F, but this is next on my list to make flexible)</li>
  <li>If it’s within the target range, it will then activate the mash step and set the start time, whilst at the same time setting the target end time</li>
  <li>If the end time has been hit, or surpassed, the actual end time is recorded (up to 10s difference)</li>
  <li>If there’s another mash step, this becomes the active step</li>
  <li>Goto (1)</li>
</ol>

<h3 id="sweet-its-like-a-set-and-forget-thing">Sweet, it’s like a set and forget thing!</h3>

<p><strong>No</strong>, seriously it’s not, you need to monitor everything closesly, as I said at the beginning, I don’t use this feature (at the moment) so it’s difficult for me to detect any issues.</p>

<p>Also, whilst Elsinore does set the Target Temperature, it does NOT activate the element by itself. If a PID is already on manual, it will not move it to Auto, or Off. I don’t want to active an element when someone hasn’t put their water in, or something isn’t right!</p>

<p>I do not recommend leaving Elsinore to run by itself whilst you go out of the house, there’s lots of things that can go wrong. Propane leaks, SSRs shorting out, fires, bad bad bad things.</p>

<h3 id="ok-i-get-it-i-think-i-want-to-use-this">OK, I get it, I think I want to use this.</h3>

<p>You no longer need a desktop StrangeBrew application! It does help, you can use StrangeBrew Java, go to Options -&gt; Preferences -&gt; Brewer. And add the Elsinore location, make sure you include the port! For me it’s <code>http://brewery:8080</code> Then, go to the Mash Panel, setup your mash and click the “Send &gt;” button to send it to Elsinore, as with StrangeBrew QT, you can select which PID you want to use.</p>

<p>You’ll get relevant messages for any issues that StrangeBrew finds when trying to update the mash Profile, and then a message for the profile being sent</p>

<p>You will see a prompt to select the relevant PID that you want to acivate the mash profile for. </p>

<p>If there’s a profile already active, you can override it!</p>

<p>These images are from StrangeBrew QT, but they are similar/the same for StrangeBrew Java.
<img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_profiles/elsinore_on.png" alt="Elsinore on" />
<img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_profiles/SB_Mash.png" alt="Elsinore Support" />
<img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_profiles/to_elsinore.png" alt="Elsinore Sent" /></p>

<h3 id="hold-on-you-said-i-could-do-it-from-the-web-interface">Hold on, you said I could do it from the Web Interface…</h3>

<p>Yup, I did, here’s how you do it.</p>

<ol>
  <li>Make sure the UI is unlocked.
<img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_edit/locked_screen.png" alt="Elsinore Locked" />
<img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_edit/unlocked_screen.png" alt="Elsinore Unlocked" /></li>
  <li>Click the “Add” button for the PID you want to add a mash step to. 
<img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_edit/add_new_mash_step.png" alt="Add Step" />
The Boxes have text in them to tell you what’s expected from each box. “Temp” is the target temperature for the mash step. “Unit”, which defaults to your system temperature Unit. “Method”/”Type” these are used so you know what’s going on (StrangeBrew Java adds them in automatically). “Duration” is how long to hold the temperature for before moving onto the next mash step.</li>
  <li>Then hit the gray/grey “Add” button to add the step, repeat as much as you want, then hit “Cancel” to stop adding mash steps.</li>
  <li>You can reorder the mash steps by clicking and dragging the steps to reorder them.
<img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_edit/reordering.png" alt="Add Step" /></li>
  <li>You can also delete the mash steps by dragging them to the “delete” button (it’ll change when you drag it)
<img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_edit/delete_mashstep.png" alt="Add Step" /></li>
  <li>When you’re done adding mash steps and you’re happy, you’ll need to activate “Auto” mode for the PID with the mash profile, this is a safety feature. No I will not change it.</li>
  <li>When the PID is in Auto mode, press “Activate” on the mash profile table to activate it.</li>
  <li>You can lock the UI when you’re done editing, the mash profile will stay visible.
<img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_edit/unlocked_screen.png" alt="Elsinore Unlocked" /></li>
</ol>

<h3 id="its-sent-what-next">It’s Sent! What next?</h3>

<p>In the Web interface, the relevant PID will show a table of the mash steps, by default none are activated.</p>

<p><img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_profiles/mashstep_activate.png" alt="Mashstep View" /></p>

<p>So you’ll need to click the “Activate” button when you’re setup to go. Then press “Auto” on the PID to activate the element.</p>

<p><img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_profiles/mashstep_enabled.png" alt="Mashstep Active" /></p>

<p>When the PID temperature is within the target range, +/-2F by default, the timer will start</p>

<p><img src="https://raw.githubusercontent.com/DougEdey/dougedey.github.io/master/assets/images/mash_profiles/timersmash.png" alt="Mashstep Timer" /></p>

  </div>
</div>


      </div>

      <footer>
        <p>&copy; Doug Edey 2012 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div> <!-- /container -->

    
  </body>
</html>

